<!DOCTYPE html>
<html lang="fr">
  <head>
  <meta charset="UTF-8">
  <script>(function(){var t=localStorage.getItem('theme');if(t==='dark'||t==='light')document.documentElement.setAttribute('data-theme',t);})()</script>

  <link rel="canonical" href="https://jardin.liut.me/design-syst%C3%A9mique" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="description" content="Câ€™est lâ€™un des [[designs]] &amp; lâ€™application concrÃ¨te de la [[pensÃ©e systÃ©mique]] via, par exemple, la [[modÃ©lisation systÃ©mique]].">

  <meta property="og:site_name" content="Jardin Liut.">

  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸŒ±</text></svg>">

  <!-- Fonts: Plus Jakarta Sans -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="/styles.css">

  <script>
    // Progressive enhancement: lazy-load images for better perf
    (function(){
      try{
        window.addEventListener('DOMContentLoaded', function(){
          document.querySelectorAll('img:not([loading])').forEach(function(img){ img.loading = 'lazy'; });
        });
      }catch(e){}
    })();
  </script>

  
  <meta property="og:description" content="Câ€™est lâ€™un des [[designs]] &amp; lâ€™application concrÃ¨te de la [[pensÃ©e systÃ©mique]] via, par exemple, la [[modÃ©lisation systÃ©mique]]."/>
  

  
  <meta property="og:title" content="design systÃ©mique">
  <meta property="og:type" content="article">
  

  
  <meta property="article:published_time" content="2026-02-26T08:16:36+00:00">
  <meta property="article:author" content="https://jardin.liut.me/">
  

  <meta property="og:url" content="https://jardin.liut.me/design-syst%C3%A9mique" />

  
  <meta property="og:image" content="https://jardin.liut.me/assets/avatar_24.jpg">
  

  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="design systÃ©mique">
  <meta name="twitter:description" content="Câ€™est lâ€™un des [[designs]] &amp; lâ€™application concrÃ¨te de la [[pensÃ©e systÃ©mique]] via, par exemple, la [[modÃ©lisation systÃ©mique]].">
  <meta name="twitter:image" content="https://jardin.liut.me/assets/avatar_24.jpg">

  <!-- JSON-LD Structured Data -->
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "design systÃ©mique",
    "url": "https://jardin.liut.me/design-syst%C3%A9mique",
    "author": {
      "@type": "Person",
      "name": "Fabrice Liut",
      "url": "https://jardin.liut.me/about"
    },
    "dateModified": "2026-02-26T08:15:51+00:00",
    "publisher": {
      "@type": "Person",
      "name": "Fabrice Liut"
    },
    "description": "Câ€™est lâ€™un des [[designs]] &amp; lâ€™application concrÃ¨te de la [[pensÃ©e systÃ©mique]] via, par exemple, la [[modÃ©lisation systÃ©mique]]."
  }
  </script>
  

  <!-- RSS Feed -->
  <link rel="alternate" type="application/atom+xml" title="Jardin Liut." href="/feed.xml">

  <title>
    
      design systÃ©mique &mdash; Jardin Liut.
    
  </title>
</head>

  <body>
    <a class="skip-link" href="#main">Aller au contenu</a>
    <nav><div class="nav-inner wrapper" role="navigation" aria-label="Navigation principale">
    <div class="site-brand">
        <a href="/" aria-label="Accueil">
            <img class="site-logo" src="/assets/miniavatar.jpeg" alt="" width="32" height="32">
            <strong>Jardin Liut.</strong>
        </a>
    </div>
    <div class="nav-right">
        <div class="nav-links">
            <a href="/search" aria-label="Rechercher">ğŸ”</a>
            <a href="/graph">Graph</a>
        </div>
        <button class="theme-toggle" id="theme-toggle" aria-label="Changer le thÃ¨me" title="Changer le thÃ¨me">
            <span class="theme-toggle-icon" id="theme-icon">ğŸŒ™</span>
        </button>
        <div class="site-links">
            <a href="/about">Ã€ propos</a>
        </div>
    </div>
</div>
</nav>
    <div class="wrapper">
      <main id="main">



<article>
  <header>
    <h1>design systÃ©mique</h1>
    
    <div class="note-meta">
      
      
      <time class="note-updated" datetime="2026-02-26T08:15:51+00:00">
        Mis Ã  jour le 26 fÃ©vrier 2026
      </time>
      <span class="reading-time">3 min de lecture</span>
    </div>
    
  </header>

  <div id="notes-entry-container">
    <div class="note-content">
      <div id="toc-container"></div>
      <p>Câ€™est lâ€™un des <a class="internal-link" href="/designs">designs</a> &amp; lâ€™application concrÃ¨te de la <a class="internal-link" href="/pens%C3%A9e-syst%C3%A9mique">pensÃ©e systÃ©mique</a> via, par exemple, la <a class="internal-link" href="/mod%C3%A9lisation-syst%C3%A9mique">modÃ©lisation systÃ©mique</a>.</p>

<h1 id="pourquoi-le-design-systÃ©mique--def">Pourquoi le Design SystÃ©mique ? <a href="https://en.wikipedia.org/wiki/Systemic_design" title="Link: https://en.wikipedia.org/wiki/Systemic_design" target="_blank">(def)</a>
</h1>

<p>La pensÃ©e et le design systÃ©mique sont nÃ©cessaires pour <strong>traiter les causes</strong> Ã  nos problÃ¨mes complexes de sociÃ©tÃ©. Ce modÃ¨le et ces mÃ©thodes permettent de prendre conscience de la dimension multi-factorielle et de la complexitÃ©. <strong>Enfin, ils facilitent les transformations et la bascule de ces problÃ¨mes en opportunitÃ©s collectives.</strong></p>

<p>La pensÃ©e systÃ©mique permet de visualiser et dâ€™interprÃ©ter la complexitÃ© de nos systÃ¨mes, des grands groupes aux communautÃ©s et institutions locales. <strong>Il devient alors possible de comprendre et de prioriser les dÃ©marches de transformation Ã  lancer.</strong></p>

<h1 id="-une-premiÃ¨re-approche-design-systÃ©mique-sur-3-jours">ğŸ‘‰ Une premiÃ¨re approche <a class="internal-link" href="/design-syst%C3%A9mique-sur-3-jours">Design systÃ©mique sur 3 jours</a>
</h1>

<p>Suite Ã  ce sprint il est possible de traiter â€œdans le bon sensâ€ et en pas Ã  pas les prioritÃ©s dâ€™Ã©volution dâ€™une organisation grÃ¢ce Ã  dâ€™autres Design Sprint oppÃ©rationels. Câ€™est une nouvelle logique dâ€™organisation qui se met ainsi en place, agile, â€œby designâ€ &amp; rÃ©siliente.</p>

<h2 id="une-approche-par-bio-inspiration">Une approche par <a class="internal-link" href="/bio-inspiration">bio-inspiration</a>.</h2>

<p><em>â€œSâ€™inspirer du vivant, au service du vivant.â€</em></p>

<p><strong>La nature est un systÃ¨me organiqueÂ complexe dont nous faisons partie intÃ©grante</strong>. Durant lâ€™industrialisation, nous avons rompu le lien avec le vivant, perdant toute la comprÃ©hension nÃ©cessaire Ã  notre Ã©volution. Nous avons consommÃ© la biosphÃ¨re, dÃ©truisant plus de richesses que nous nâ€™en avons crÃ©e. Nous avons oubliÃ© que le vivant est en recherche et dÃ©veloppement continu depuis des milliards dâ€™annÃ©esâ€¦ Quelle meilleure inspiration ?</p>

<p>ğŸ’¡Â <strong>Utilisons la permaculture comme exemple</strong> <em>: chaque lÃ©gume a sa place dans ce systÃ¨me complexe et favoriser les bonnes associations est nÃ©cessaire Ã  la prospÃ©ritÃ© de tout ce systÃ¨me vÃ©gÃ©tal.</em> <strong>Le jardinier est le facilitateur de ce jardin</strong> <em>: il Ã©coute, observe et aide Ã  la bonne coopÃ©ration des diffÃ©rentes espÃ¨ces. Il est au service du jardin lÃ  ou le designer systÃ©mique est au service de nos systÃ¨mes complexes, travaillant enÂ constante coopÃ©ration, suivant une culture agile &amp;Â rÃ©gÃ©nÃ©rative.</em></p>

<p><strong>Suivant une observation par bio-inspiration et une culture design &amp; agile</strong>, il est temps dâ€™installer notre sociÃ©tÃ© dans â€œune relation Ã©co-systÃ©miqueâ€ symbiotique et nourrissante pour tous.</p>

<h2 id="les-bÃ©nÃ©fices-de-la-pensÃ©e-systÃ©mique-">ğŸ’°Â Les bÃ©nÃ©fices de la <a class="internal-link" href="/pens%C3%A9e-syst%C3%A9mique">pensÃ©e systÃ©mique</a> ?</h2>

<ul>
  <li>Enfin comprendre la structure et les flux (informations, valeurs, frictions, etcâ€¦) dâ€™une organisation ou dâ€™un territoire.</li>
  <li>DÃ©tecter les urgences rÃ©elles, prioriser et agir directement pour le long terme.</li>
  <li><strong>Basculer dâ€™un systÃ¨me solide et mourant Ã  un systÃ¨me rÃ©silient (anti-fragile &amp; agile prenant en compte la volatilitÃ©).</strong></li>
</ul>

<p><em>En partant de lâ€™observation terrain, et suivant une culture de transparence et de coopÃ©ration, la pensÃ©e systÃ©mique permet Ã  chaque acteur une visualisation &amp; une comprÃ©hension des enjeux concrets. Une Ã©quipe peut ainsi dÃ©tecter et traiter les problÃ©matiques causes plutÃ´t que les effets : <strong>ils limitent ainsi les risques dâ€™erreurs Ã  la chaÃ®ne</strong>.</em></p>

<p>ğŸ§°Â <em><strong>Outils :</strong> remonter dâ€™interview terrain, analyse dâ€™usages, mapping causes/effets, dÃ©tections des points de frictions et de noeuds manquants, visualisation des systÃ¨mes dynamiquesâ€¦</em></p>

<h3 id="le-gain-">Le gain ?</h3>

<ul>
  <li>Ne plus traiter les effets aux vrais problÃ¨mes, causant dâ€™autres problÃ¨mes. Ne plus traiter en doublons les mÃªme sujets. Permettre une dÃ©finition des urgences rÃ©elles ainsi que des opportunitÃ©s concrÃ¨tes.</li>
</ul>

<p><em>Ex : Plusieurs services dâ€™une mÃªme structure (ou de structures diffÃ©rentes) menant des actions concernant des effets diffÃ©rents dâ€™une mÃªme cause majeureâ€¦CrÃ©ant alors dâ€™autres problÃ©matiques causes et faisant perdreÂ Ã©normÃ©ment de temps et dâ€™argent. Toujours, les plannings sont remplis avec de â€œfaussesâ€ urgences en cascadesâ€¦ tout cela coÃ»te trÃ¨s cher, autant dâ€™un point de vue Ã©conomique que humain.</em></p>

<h3 id="faciliter-les-dÃ©cisions-critiques-">Faciliter les dÃ©cisions critiques ?</h3>

<ul>
  <li>Les dÃ©cisions sont conduites avec les supports et outils systÃ©miques, permettant de limiter au maximum les erreurs grÃ¢ce Ã  une comprÃ©hension collective et une coopÃ©ration transversale (intelligence collective). La vision est long terme, itÃ©rative et agile.</li>
</ul>

<h2 id="les-livrables-">ğŸ”–Â Les livrables ?</h2>

<ul>
  <li>Une visualisation et analyse complÃ¨te dâ€™un systÃ¨me local.Â </li>
  <li>Une couche sÃ©mantique permettant le suivi dynamique de lâ€™Ã©volution du systÃ¨me.Â </li>
  <li>Une dÃ©tection et synthÃ¨se systÃ©mique des points dâ€™urgences Ã  traiter en prioritÃ©.</li>
  <li>Un accompagnement sous forme de <strong>Design Sprint et cycles agiles</strong> pour apprendre et concevoir par itÃ©rations.</li>
</ul>

<p>Le design systÃ©mique permet de ne plus agir sans conscience claire de tous les facteurs et implications, risquant des effets destructeurs sur une organisation. <strong>LeÂ travail sâ€™exÃ©cute en cercle ensemble, facilitant le passage Ã  lâ€™action concrÃ¨te sur le terrain.</strong></p>

<hr>

<h3 id="refs-clients">Refs clients</h3>
<ul>
  <li>Adeo Group</li>
  <li>BDR Therma Group</li>
  <li>Vinci Group</li>
</ul>

<p>#Afairepousser</p>

      <p class="note-cta">Merci de votre lecture â€” vous pouvez me contacter sur <a href="https://liut.me">liut.me</a></p>
    </div>

    <aside class="note-sidebar">
      <h3 class="sidebar-title">Notes en lien</h3>
      
      <div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/approche-du-comptoir">approche du comptoir</a>
          <div class="backlink-excerpt">La mission du Comptoir est dâ€™engager toutes les organisations dans leur Â« mutation Â». Que vous soyez dirigeants, acteurs du...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/au-del%C3%A0-de-la-r%C3%A9silience">Au-delÃ  de la rÃ©silience</a>
          <div class="backlink-excerpt">[[rÃ©silience]], câ€™est devenu tendance dâ€™en parler et de dire quâ€™on travaille Ã  la dÃ©velopper. Et surtout, souvent, on parle de...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/design-syst%C3%A9mique-sur-3-jours">Design systÃ©mique sur 3 jours</a>
          <div class="backlink-excerpt">
</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/designs">designs</a>
          <div class="backlink-excerpt">Les pensÃ©e &amp; dÃ©marches â€œDesignsâ€Â prennent une place de plus en plus importante et nÃ©cessaire dans lâ€™Ã©volution de notre sociÃ©tÃ© et...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/les-services-de-archipel-kyosei">Les services de Archipel Kyosei</a>
          <div class="backlink-excerpt">GrÃ¢ce Ã  ses diffÃ©rents Ã©cosystÃ¨mes, lâ€™archipel permet dâ€™accÃ©der Ã  toutes les ressources et Ã  tous les compÃ©tences nÃ©cessaires pour rÃ©ussir...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/ma-vision-du-design-en-2021">Ma vision du Design en 2021</a>
          <div class="backlink-excerpt">Je me dis actuellement acteur du [[design systÃ©mique]] et du [[design rÃ©gÃ©nÃ©ratif]]. Mais quâ€™est-ce que veulent dire ces termes associÃ©s...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/mouvement-mondial-du-design-r%C3%A9g%C3%A9n%C3%A9ratif">Mouvement mondial du design rÃ©gÃ©nÃ©ratif</a>
          <div class="backlink-excerpt">Lâ€™humanitÃ© est confrontÃ©e Ã  de nombreuses menaces mondiales rÃ©sultant de lâ€™ampleur, du rythme et de lâ€™intensitÃ© des changements de nos...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/pens%C3%A9e-syst%C3%A9mique">pensÃ©e systÃ©mique</a>
          <div class="backlink-excerpt">Câ€™est un modÃ¨le de pensÃ©e factuel au niveau de la [[logique]]. Câ€™est considÃ©rer que tout est [[systÃ¨me complexe]] et en...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/pourquoi-une-approche-un-design-r%C3%A9g%C3%A9n%C3%A9ratif-est-n%C3%A9cessaire">Pourquoi une approche & un Design rÃ©gÃ©nÃ©ratif est nÃ©cessaire</a>
          <div class="backlink-excerpt">
</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/ressources-du-comptoir">Ressources du Comptoir</a>
          <div class="backlink-excerpt">Toutes nos ressources sont en commun et propriÃ©tÃ©s de tous suivant la logique de lâ€™open-source et de la crÃ©ation ouverte....</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/syst%C3%A8me-complexe">systÃ¨me complexe</a>
          <div class="backlink-excerpt">Comprendre la complexitÃ© pour mieux piloter votre entreprise.
</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/un-jeu-pour-comprendre-les-syst%C3%A8mes-complexes-et-les-%C3%A9cosyst%C3%A8mes">Un jeu pour comprendre les systÃ¨mes complexes et les Ã©cosystÃ¨mes.</a>
          <div class="backlink-excerpt">Merci Nick, crÃ©ateur de ce petit jeu, pour mâ€™aider Ã  rÃ©pondre en partie, de maniÃ¨re fun et plus simplement Ã ...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/community-design">community design</a>
          <div class="backlink-excerpt">Le community design consiste Ã  concevoir les conditions qui permettent Ã  une communautÃ© dâ€™exister, de se dÃ©velopper, et de produire...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/design-circulaire">design circulaire</a>
          <div class="backlink-excerpt">Ici, vous trouverezÂ un dossier complet, en Ã©volution continue pour prÃ©senter cet axe de la dÃ©marche globale â€œDesignsâ€. Vous trouverez Ã©galement...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/d%C3%A9bloquer-un-impact-positif-en-tant-que-designer">dÃ©bloquer un impact positif en tant que designer</a>
          <div class="backlink-excerpt">il faut prendre en compte est accepter de travailler en situation de complexitÃ©. pour adresser la complexitÃ©, il faut dÃ©velopper...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/guidebook-de-l-approche-territoriale-neoz">guidebook de l'approche territoriale NEOZ</a>
          <div class="backlink-excerpt">Introduction âœ…
Quâ€™est-ce quâ€™une approche territoriale ?
</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/la-cha%C3%AEne-des-changements-syst%C3%A9miques">la chaÃ®ne des changements systÃ©miques</a>
          <div class="backlink-excerpt">On cherche souvent Ã  crÃ©er intellectuellement le systÃ¨me qui peut rÃ©gler de maniÃ¨re complexe et macro nos problÃ©matiques de sociÃ©tÃ©....</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/la-puissance-du-design-syst%C3%A9mique-par-l-exemple-des-banques">la puissance du design systÃ©mique par lâ€™exemple des banques</a>
          <div class="backlink-excerpt">The power of systems design lies in the fact that one initiative has the potential to respond to many needs...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/pr%C3%A9sentation-g%C3%A9n%C3%A9rale-du-design-syst%C3%A9mique">prÃ©sentation gÃ©nÃ©rale du design systÃ©mique</a>
          <div class="backlink-excerpt">jâ€™ai eu la chance de produire cette prÃ©sentation dans lâ€™ouvrage â€œpasser au design thinking Ã©dition 2â€ dont je vous propose...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/qu-est-ce-qu-un-designer-en-2024">qu'est-ce qu'un designer en 2024</a>
          <div class="backlink-excerpt">Le designer porte un Ã©tat dâ€™esprit, une maniÃ¨re de penser et dâ€™interagir avec le monde - on parle de [[Design...</div>
        </div>
      
        <div class="backlink-box">
          <a class="internal-link" href="/sp%C3%A9cialiste-et-g%C3%A9n%C3%A9raliste">spÃ©cialiste et gÃ©nÃ©raliste</a>
          <div class="backlink-excerpt">Ã  lâ€™origine, une discussion sur linkedIN
</div>
        </div>
      
      </div>
      
    </aside>
  </div>
</article>

<script>
// Auto-generate TOC for notes with 3+ headings
(function() {
  var content = document.querySelector('.note-content');
  var tocContainer = document.getElementById('toc-container');
  if (!content || !tocContainer) return;
  
  var headings = content.querySelectorAll('h2, h3');
  if (headings.length < 3) return;
  
  var details = document.createElement('details');
  details.className = 'toc';
  var summary = document.createElement('summary');
  summary.className = 'toc-title';
  summary.textContent = 'Sommaire';
  details.appendChild(summary);
  var ul = document.createElement('ul');
  
  headings.forEach(function(h, i) {
    if (!h.id) h.id = 'heading-' + i;
    var li = document.createElement('li');
    if (h.tagName === 'H3') li.className = 'toc-h3';
    var a = document.createElement('a');
    a.setAttribute('href', '#' + h.id);
    a.textContent = h.textContent;
    a.addEventListener('click', function(e) {
      e.preventDefault();
      var target = document.getElementById(h.id);
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        history.replaceState(null, '', '#' + h.id);
      }
    });
    li.appendChild(a);
    ul.appendChild(li);
  });
  
  details.appendChild(ul);
  tocContainer.appendChild(details);
})();
</script>
</main>
      <footer class="site-footer">
	<nav class="footer-nav" aria-label="Navigation de pied de page">
		<a href="/">Accueil</a>
		<a href="/search">Rechercher</a>
		<a href="/about">Ã€ propos</a>
		<a href="/graph">Graph</a>
		<a href="/feed.xml" aria-label="Flux RSS">RSS</a>
	</nav>
	<p>Ce <a href="/about">jardin numÃ©rique</a> est un espace vivant, en constante Ã©volution.</p>
	<p>Â© 2026 Jardin Liut.</p>
</footer>

    </div>

    <div class="tooltip-wrapper" id="tooltip-wrapper">
  <div id="tooltip-content"></div>
</div>

<script>
(function() {
  var opacityTimeout, contentTimeout;
  var transitionDurationMs = 100;
  var tooltipWrapper = document.getElementById('tooltip-wrapper');
  var tooltipContent = document.getElementById('tooltip-content');
  var cache = {};

  function hideTooltip() {
    opacityTimeout = setTimeout(function() {
      tooltipWrapper.style.opacity = 0;
      contentTimeout = setTimeout(function() {
        tooltipContent.innerHTML = '';
        tooltipWrapper.style.display = 'none';
      }, transitionDurationMs + 1);
    }, transitionDurationMs);
  }

  function showTooltip(event) {
    var elem = event.target;
    var rects = elem.getClientRects();
    var elemProps = rects[rects.length - 1];
    var scrollTop = window.pageYOffset || document.documentElement.scrollTop;

    if (elem.host !== window.location.host) return;

    function renderTooltip(html) {
      tooltipContent.innerHTML = html;
      tooltipWrapper.style.display = 'block';
      setTimeout(function() { tooltipWrapper.style.opacity = 1; }, 1);

      tooltipWrapper.style.left = (elemProps.left - (tooltipWrapper.offsetWidth / 2) + (elemProps.width / 2)) + 'px';
      if ((window.innerHeight - elemProps.top) < tooltipWrapper.offsetHeight) {
        tooltipWrapper.style.top = (elemProps.top + scrollTop - tooltipWrapper.offsetHeight - 10) + 'px';
      } else {
        tooltipWrapper.style.top = (elemProps.top + scrollTop + 35) + 'px';
      }
      if ((elemProps.left + elemProps.width / 2) < (tooltipWrapper.offsetWidth / 2)) {
        tooltipWrapper.style.left = '10px';
      } else if ((document.body.clientWidth - elemProps.left - elemProps.width / 2) < (tooltipWrapper.offsetWidth / 2)) {
        tooltipWrapper.style.left = (document.body.clientWidth - tooltipWrapper.offsetWidth - 20) + 'px';
      }
    }

    if (cache[elem.href]) {
      renderTooltip(cache[elem.href]);
      return;
    }

    fetch(elem.href)
      .then(function(r) { return r.text(); })
      .then(function(html) {
        var parser = new DOMParser();
        var doc = parser.parseFromString(html, 'text/html');
        var h1 = doc.querySelector('h1');
        var content = doc.querySelector('.note-content');
        if (!h1 || !content) return;
        var preview = '<div class="tooltip-title">' + h1.textContent + '</div>' + content.innerHTML;
        cache[elem.href] = preview;
        renderTooltip(preview);
      })
      .catch(function() {});
  }

  function setupListeners(link) {
    link.addEventListener('mouseleave', hideTooltip);
    link.addEventListener('touchend', hideTooltip);
    link.addEventListener('mouseenter', function(e) {
      clearTimeout(opacityTimeout);
      clearTimeout(contentTimeout);
      showTooltip(e);
    });
  }

  tooltipWrapper.addEventListener('mouseleave', hideTooltip);
  tooltipWrapper.addEventListener('touchend', hideTooltip);
  tooltipWrapper.addEventListener('mouseenter', function() {
    clearTimeout(opacityTimeout);
    clearTimeout(contentTimeout);
  });

  document.querySelectorAll('.note-content a').forEach(function(link) {
    // Skip same-page anchor links (e.g. TOC links)
    if (link.getAttribute('href') && link.getAttribute('href').charAt(0) === '#') return;
    // Skip links inside the TOC
    if (link.closest('.toc')) return;
    setupListeners(link);
  });
})();
</script>


    <script>
    // Theme toggle: cycles auto â†’ dark â†’ light â†’ auto
    (function() {
      var root = document.documentElement;
      var btn = document.getElementById('theme-toggle');
      var icon = document.getElementById('theme-icon');
      if (!btn || !icon) return;

      var saved = localStorage.getItem('theme');
      if (saved === 'dark' || saved === 'light') {
        root.setAttribute('data-theme', saved);
      }
      updateIcon();

      btn.addEventListener('click', function() {
        var current = root.getAttribute('data-theme');
        if (!current) {
          // Was auto (OS) â†’ force dark
          root.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
        } else if (current === 'dark') {
          root.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
        } else {
          // Was light â†’ back to auto
          root.removeAttribute('data-theme');
          localStorage.removeItem('theme');
        }
        updateIcon();
      });

      function updateIcon() {
        var theme = root.getAttribute('data-theme');
        if (theme === 'dark') {
          icon.textContent = 'â˜€ï¸';
        } else if (theme === 'light') {
          icon.textContent = 'ğŸŒ™';
        } else {
          // Auto â€” show based on OS
          icon.textContent = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'â˜€ï¸' : 'ğŸŒ™';
        }
      }
    })();
    </script>
  </body>
</html>
